"use strict";const showResults=document.querySelector(".js_results"),button=document.querySelector(".js_button"),valueInputd100=document.querySelector("#inputd100"),valueInputd20=document.querySelector("#inputd20"),valueInputd12=document.querySelector("#inputd12"),valueInputd10=document.querySelector("#inputd10"),valueInputd8=document.querySelector("#inputd8"),valueInputd6=document.querySelector("#inputd6"),valueInputd4=document.querySelector("#inputd4");function getRandomNumber(e){return Math.ceil(Math.random()*e)}function handleRoll(e,t){let l=[];for(let n=0;n<e;n++)l.push(getRandomNumber(t));return l}function handleRolld100(){if("0"!==valueInputd100.value){const e=handleRoll(valueInputd100.value,100);let t=document.createElement("p"),l=0;for(const n of e)l+=parseInt(n),t.innerHTML=`Tiraste ${valueInputd100.value} dados d100, los resultados son ${e} El total es ${l} `;showResults.appendChild(t)}}function handleRolld20(){if("0"!==valueInputd20.value){const e=handleRoll(valueInputd20.value,20);let t=document.createElement("p"),l=0;for(const n of e)l+=parseInt(n),t.innerHTML=`Tiraste ${valueInputd20.value} dados d20, los resultados son ${e} El total es ${l} `;showResults.appendChild(t)}}function handleRolld12(){if("0"!==valueInputd12.value){const e=handleRoll(valueInputd12.value,12);let t=document.createElement("p"),l=0;for(const n of e)l+=parseInt(n),t.innerHTML=`Tiraste ${valueInputd12.value} dados d12, los resultados son ${e} El total es ${l} `;showResults.appendChild(t)}}function handleRolld10(){if("0"!==valueInputd10.value){const e=handleRoll(valueInputd10.value,10);let t=document.createElement("p"),l=0;for(const n of e)l+=parseInt(n),t.innerHTML=`Tiraste ${valueInputd10.value} dados d10, los resultados son ${e} El total es ${l} `;showResults.appendChild(t)}}function handleRolld8(){if("0"!==valueInputd8.value){const e=handleRoll(valueInputd8.value,8);let t=document.createElement("p"),l=0;for(const n of e)l+=parseInt(n),t.innerHTML=`Tiraste ${valueInputd8.value} dados d8, los resultados son ${e} El total es ${l} `;showResults.appendChild(t)}}function handleRolld6(){if("0"!==valueInputd6.value){const e=handleRoll(valueInputd6.value,6);let t=document.createElement("p"),l=0;for(let n=0;n<e.length;n++)l+=parseInt(e[n]),t.innerHTML=`Tiraste ${valueInputd6.value} dados d6, los resultados son ${e} El total es ${l} `;showResults.appendChild(t)}}function handleRolld4(){if("0"!==valueInputd4.value){const e=handleRoll(valueInputd4.value,4);let t=document.createElement("p"),l=0;for(let n=0;n<e.length;n++)l+=parseInt(e[n]),t.innerHTML=`Tiraste ${valueInputd4.value} dados d4, los resultados son ${e} El total es ${l} `;showResults.appendChild(t)}}function renderRoll(e){showResults.innerHTML="",e.preventDefault(),handleRolld100(),handleRolld20(),handleRolld12(),handleRolld10(),handleRolld8(),handleRolld6(),handleRolld4()}button.addEventListener("click",renderRoll);const buttonPlus=document.querySelectorAll(".js_buttonplus"),buttonRest=document.querySelectorAll(".js_buttonrest");for(const e of buttonPlus)e.addEventListener("click",incrementar);for(const e of buttonRest)e.addEventListener("click",decrement);function incrementar(e){e.preventDefault();const t=e.currentTarget.id;"buttonplusd100"===t?valueInputd100.value=parseInt(valueInputd100.value)+1:"buttonplusd20"===t?valueInputd20.value=parseInt(valueInputd20.value)+1:"buttonplusd12"===t?valueInputd12.value=parseInt(valueInputd12.value)+1:"buttonplusd10"===t?valueInputd10.value=parseInt(valueInputd10.value)+1:"buttonplusd8"===t?valueInputd8.value=parseInt(valueInputd8.value)+1:"buttonplusd6"===t?valueInputd6.value=parseInt(valueInputd6.value)+1:valueInputd4.value=parseInt(valueInputd4.value)+1}function decrement(e){e.preventDefault();const t=e.currentTarget.id;"buttonrestd100"===t&&parseInt(valueInputd100.value)>0?valueInputd100.value=parseInt(valueInputd100.value)-1:"buttonrestd20"===t&&parseInt(valueInputd20.value)>0?valueInputd20.value=parseInt(valueInputd20.value)-1:"buttonrestd12"===t&&parseInt(valueInputd12.value)>0?valueInputd12.value=parseInt(valueInputd12.value)-1:"buttonrestd10"===t&&parseInt(valueInputd10.value)>0?valueInputd10.value=parseInt(valueInputd10.value)-1:"buttonrestd8"===t&&parseInt(valueInputd8.value)>0?valueInputd8.value=parseInt(valueInputd8.value)-1:"buttonrestd6"===t&&parseInt(valueInputd6.value)>0?valueInputd6.value=parseInt(valueInputd6.value)-1:valueInputd4.value=parseInt(valueInputd4.value)-1}const save=document.querySelector(".js_save"),buttonSave=document.querySelector(".js_buttonSave");let selects=[];const inputsSave=document.querySelectorAll(".js_inputsave"),nameSave=document.querySelector(".js_nameSave"),buttonSavePrint=document.querySelector(".js_savebutton");function paintFavorites(e){for(let t of e){let e=document.createElement("div"),l=document.createElement("ul"),n=document.createElement("h3"),a=document.createElement("p"),u=document.createElement("button");a.classList.add(""+t.name),u.classList.add("js_buttonfavorite"),u.setAttribute("id",t.name),u.innerHTML="Roll";for(const e of t.dices){const a=t.name;n.innerHTML=a,""!==t.values&&(l.innerHTML+=`<li><label for="">\n                   <i class="fas fa-dice-d20 js_liDice"></i>\n                   <input\n                     class=${e.class}\n                     type="number"\n                     name=${t.name}\n                     value=${parseInt(e.value)}\n                   />\n                 </label></li>`)}favoritesSave.appendChild(e),e.appendChild(n),e.appendChild(l),e.appendChild(a),e.appendChild(u),selects=[]}listenRoll(),handleSelectSave()}function listenRoll(){const e=document.querySelectorAll(".js_buttonfavorite");for(let t of e)t.addEventListener("click",renderRollSave)}for(const e of inputsSave)e.addEventListener("change",handleInputChange);function handleInputChange(e){selects.push({name:nameSave.value,id:e.currentTarget.id,value:e.currentTarget.value})}function onSave(){const e={name:selects[0].name,id:selects[0].name,dices:[]};selects.forEach(t=>{const l={class:t.id,value:t.value};""!==l.value&&void 0!==l.value&&e.dices.push(l)}),setInLocalStorage(e),paintFavorites([e])}function handleSelectSave(){save.classList.toggle("hidden")}buttonSave.addEventListener("click",handleSelectSave),buttonSavePrint.addEventListener("click",onSave);const favoritesSave=document.querySelector(".js_favoritesdice");function handleRolld100Save(e){const t=document.querySelectorAll(".js_inputsaved100");console.log(e.currentTarget.id);for(const l of t)if("0"!==l.value&&e.currentTarget.id===l.name){const e=handleRoll(l.value,100);let t=document.createElement("p"),n=0;for(const a of e)n+=parseInt(a),t.innerHTML=`Tiraste ${l.value} dados d100, los resultados son ${e} El total es ${n} `;favoritesSave.appendChild(t)}}function handleRolld20Save(e){const t=document.querySelectorAll(".js_inputsaved20");for(const l of t)if("0"!==l.value&&e.currentTarget.id===l.name){const e=handleRoll(l.value,20);let t=document.createElement("p"),n=0;for(const a of e)n+=parseInt(a),t.innerHTML=`Tiraste ${l.value} dados d20, los resultados son ${e} El total es ${n} `;favoritesSave.appendChild(t)}}function handleRolld12Save(e){const t=document.querySelectorAll(".js_inputsaved12");for(const l of t)if("0"!==l.value&&e.currentTarget.id===l.name){const e=handleRoll(l.value,12);let t=document.createElement("p"),n=0;for(const a of e)n+=parseInt(a),t.innerHTML=`Tiraste ${l.value} dados d12, los resultados son ${e} El total es ${n} `;favoritesSave.appendChild(t)}}function handleRolld10Save(e){const t=document.querySelectorAll(".js_inputsaved10");for(const l of t)if("0"!==l.value&&e.currentTarget.id===l.name){const e=handleRoll(l.value,10);let t=document.createElement("p"),n=0;for(const a of e)n+=parseInt(a),t.innerHTML=`Tiraste ${l.value} dados d10, los resultados son ${e} El total es ${n} `;favoritesSave.appendChild(t)}}function handleRolld8Save(e){const t=document.querySelectorAll(".js_inputsaved8");for(const l of t)if("0"!==l.value&&e.currentTarget.id===l.name){const e=handleRoll(l.value,8);let t=document.createElement("p"),n=0;for(const a of e)n+=parseInt(a),t.innerHTML=`Tiraste ${l.value} dados d8, los resultados son ${e} El total es ${n} `;favoritesSave.appendChild(t)}}function handleRolld6Save(e){const t=document.querySelectorAll(".js_inputsaved6");for(const l of t)if("0"!==l.value&&e.currentTarget.id===l.name){const e=handleRoll(l.value,6);let t=document.createElement("p"),n=0;for(const a of e)n+=parseInt(a),t.innerHTML=`Tiraste ${l.value} dados d6, los resultados son ${e} El total es ${n} `;favoritesSave.appendChild(t)}}function handleRolld4Save(e){const t=document.querySelectorAll(".js_inputsaved4");for(const l of t)if("0"!==l.value&&e.currentTarget.id===l.name){const e=handleRoll(l.value,4);let t=document.createElement("p"),n=0;for(const a of e)n+=parseInt(a),t.innerHTML=`Tiraste ${l.value} dados d4, los resultados son ${e} El total es ${n} `;favoritesSave.appendChild(t)}}function renderRollSave(e){handleRolld100Save(e),handleRolld20Save(e),handleRolld12Save(e),handleRolld10Save(e),handleRolld8Save(e),handleRolld6Save(e),handleRolld4Save(e)}function setInLocalStorage(e){let t=[];const l=localStorage.getItem("rollArray");if(null!==l){t=[...JSON.parse(l),e]}else t=[e];console.log(t);const n=JSON.stringify(t);localStorage.setItem("rollArray",n)}function getLocalStorage(){const e=localStorage.getItem("rollArray");if(null!==e){paintFavorites(JSON.parse(e))}}getLocalStorage();